import{h as M,e as d,c as U}from"./components.eb927237.js";import{m as o}from"./elements.39521dbc.js";import{F as L,u as T}from"./provide.33f00d49.js";import{L as P}from"./index.d01a7b43.js";import{R as W}from"./index.7505bc45.js";import{d as j,b as B,n as q,_ as E,p as D,ai as G,f as V,h as F,M as f,R as p,N as u,D as H,i as I,j as J,q as K}from"./vue-router.esm-bundler.a03b8b02.js";const O={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number]},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},{n:Q,classes:X}=U("switch"),Y=j({name:"VarSwitch",components:{VarLoading:P,VarFormDetails:L},directives:{Ripple:W},props:O,setup(e){const{bindForm:c,form:l}=T(),{errorMessage:n,validateWithTrigger:b,validate:w,resetValidation:m}=M(),v=()=>w(e.rules,e.modelValue),h=()=>q(()=>b(["onChange"],"onChange",e.rules,e.modelValue)),g=B(()=>{const{size:a,modelValue:s,color:t,closeColor:r,loadingColor:y,activeValue:i}=e;return{handle:{width:o(a),height:o(a),backgroundColor:s===i?t:r,color:y},ripple:{left:s===i?o(a,.5):`-${o(a,.5)}`,color:s===i?t:r||"#999",width:o(a,2),height:o(a,2)},track:{height:o(a,.72),width:o(a,1.9),borderRadius:o(a,2/3),filter:s===i||(n==null?void 0:n.value)?void 0:"brightness(.6)",backgroundColor:s===i?t:r},switch:{height:o(a,1.2),width:o(a,2)}}}),z=B(()=>{const{size:a="5.333vw"}=e;return o(a,.4)}),N=a=>{const{onClick:s,onChange:t,disabled:r,loading:y,readonly:i,modelValue:$,activeValue:k,inactiveValue:R,"onUpdate:modelValue":A}=e;if(d(s,a),r||y||i||(l==null?void 0:l.disabled.value)||(l==null?void 0:l.readonly.value))return;const S=$===k?R:k;d(t,S),d(A,S),h()};return d(c,{reset:()=>{d(e["onUpdate:modelValue"],e.inactiveValue),m()},validate:v,resetValidation:m}),{n:Q,classes:X,switchActive:N,radius:z,styleComputed:g,errorMessage:n,formDisabled:l==null?void 0:l.disabled,formReadonly:l==null?void 0:l.readonly}}});function Z(e,c,l,n,b,w){const m=D("var-loading"),v=D("var-form-details"),h=G("ripple");return V(),F("div",{class:u(e.n())},[f("div",{class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:c[0]||(c[0]=(...g)=>e.switchActive&&e.switchActive(...g)),style:p(e.styleComputed.switch)},[f("div",{style:p(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),H((V(),F("div",{class:u(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:p(e.styleComputed.ripple)},[f("div",{style:p(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.n("$-elevation--2"),[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(V(),I(m,{key:0,radius:e.radius,color:"currentColor"},null,8,["radius"])):J("",!0)],6)],6)),[[h,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),K(v,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const C=E(Y,[["render",Z]]);C.install=function(e){e.component(C.name,C)};export{C as S};
