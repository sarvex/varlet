import{F as W,u as w}from"./provide-42b5b9b7.js";import{d as b,i as z,f as t,c as B}from"./components-e9444427.js";import{u as S}from"./index-a970a6ad.js";import{d as q,b as c,w as _,aJ as x,n as D,_ as P,p as J,f as L,h as O,M as j,O as H,N as y,q as I}from"./vue-router.esm-bundler-de96f312.js";function K(e){return["horizontal","vertical"].includes(e)}const Q={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:K},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:b(),"onUpdate:modelValue":b()},{n:R,classes:X}=B("checkbox-group"),Y=q({name:"VarCheckboxGroup",components:{VarFormDetails:W},props:Q,setup(e){const d=c(()=>e.max),u=c(()=>e.modelValue.length),{length:m,checkboxes:s,bindCheckboxes:h}=S(),{bindForm:r}=w(),{errorMessage:f,validateWithTrigger:A,validate:M,resetValidation:l}=z(),U=c(()=>f.value),$=a=>{D(()=>{const{validateTrigger:o,rules:n,modelValue:E}=e;A(o,a,n,E)})},g=a=>{t(e["onUpdate:modelValue"],a),t(e.onChange,a),$("onChange")},F=a=>{const{modelValue:o}=e;o.includes(a)||g([...o,a])},G=a=>{const{modelValue:o}=e;o.includes(a)&&g(o.filter(n=>n!==a))},v=()=>s.forEach(({sync:a})=>a(e.modelValue)),V=()=>{s.forEach(a=>a.resetWithAnimation())},N=()=>{const a=s.map(({checkedValue:n})=>n.value),o=x(a);return V(),t(e["onUpdate:modelValue"],o),o},T=()=>{const a=s.filter(({checked:n})=>!n.value).map(({checkedValue:n})=>n.value),o=x(a);return V(),t(e["onUpdate:modelValue"],o),o},k=()=>{t(e["onUpdate:modelValue"],[]),l()},p=()=>M(e.rules,e.modelValue);_(()=>e.modelValue,v,{deep:!0}),_(()=>m.value,v);const C={max:d,checkedCount:u,onChecked:F,onUnchecked:G,validate:p,resetValidation:l,reset:k,errorMessage:U};return h(C),t(r,C),{errorMessage:f,n:R,classes:X,checkAll:N,inverseAll:T,reset:k,validate:p,resetValidation:l}}});function Z(e,d,u,m,s,h){const r=J("var-form-details");return L(),O("div",{class:y(e.n("wrap"))},[j("div",{class:y(e.classes(e.n(),e.n(`--${e.direction}`)))},[H(e.$slots,"default")],2),I(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const i=P(Y,[["render",Z]]);i.install=function(e){e.component(i.name,i)};export{i as C};
