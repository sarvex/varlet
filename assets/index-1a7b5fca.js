import{F as z,u as w}from"./provide-42b5b9b7.js";import{d as y,u as J,a as Q,i as E,f as d,c as F,b as X,e as Z}from"./components-e9444427.js";import{d as j,b as K,w as M,n as W,_ as Y,p as N,f as P,h as T,M as B,O as A,N as u,q as D,a as U,ag as x,D as ee,R as ae,m as oe}from"./vue-router.esm-bundler-de96f312.js";import{I as ne}from"./index-edb3b75f.js";import{v as re}from"./index-5f3889e7.js";function se(e){return["horizontal","vertical"].includes(e)}const le={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:se},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:y(),"onUpdate:modelValue":y()},_=Symbol("RADIO_GROUP_BIND_RADIO_KEY"),q=Symbol("RADIO_GROUP_COUNT_RADIO_KEY");function ie(){const{bindChildren:e,childProviders:o}=J(_),{length:s}=Q(q);return{length:s,radios:o,bindRadios:e}}const{n:de,classes:te}=F("radio-group"),ce=j({name:"VarRadioGroup",components:{VarFormDetails:z},props:le,setup(e){const{length:o,radios:s,bindRadios:m}=ie(),{bindForm:l}=w(),{errorMessage:v,validateWithTrigger:a,validate:h,resetValidation:c}=E(),p=K(()=>v.value),O=t=>{W(()=>{const{validateTrigger:V,rules:S,modelValue:R}=e;a(V,t,S,R)})},g=()=>s.forEach(({sync:t})=>t(e.modelValue)),$=t=>{d(e["onUpdate:modelValue"],t),d(e.onChange,t),O("onChange")},f=()=>h(e.rules,e.modelValue),b=()=>{d(e["onUpdate:modelValue"],void 0),c()};M(()=>e.modelValue,g),M(()=>o.value,g);const k={onToggle:$,validate:f,reset:b,resetValidation:c,errorMessage:p};return d(l,k),m(k),{errorMessage:v,n:de,classes:te,reset:b,validate:f,resetValidation:c}}});function ue(e,o,s,m,l,v){const a=N("var-form-details");return P(),T("div",{class:u(e.n("wrap"))},[B("div",{class:u(e.classes(e.n(),e.n(`--${e.direction}`)))},[A(e.$slots,"default")],2),D(a,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const I=Y(ce,[["render",ue]]);I.install=function(e){e.component(I.name,I)};const me={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:y(),onChange:y(),"onUpdate:modelValue":y()};function ve(){const{bindParent:e,parentProvider:o}=X(_),{index:s}=Z(q);return{index:s,radioGroup:o,bindRadioGroup:e}}const{n:ge,classes:he}=F("radio"),pe=j({name:"VarRadio",directives:{Ripple:re},components:{VarIcon:ne,VarFormDetails:z},inheritAttrs:!1,props:me,setup(e){const o=U(!1),s=K(()=>o.value===e.checkedValue),m=U(!1),{radioGroup:l,bindRadioGroup:v}=ve(),{form:a,bindForm:h}=w(),{errorMessage:c,validateWithTrigger:p,validate:O,resetValidation:g}=E(),$=n=>{W(()=>{const{validateTrigger:r,rules:i,modelValue:C}=e;p(r,n,i,C)})},f=n=>{const{checkedValue:r,onChange:i}=e;l&&o.value===r||(o.value=n,d(e["onUpdate:modelValue"],o.value),d(i,o.value),l==null||l.onToggle(r),$("onChange"))},b=n=>{const{disabled:r,readonly:i,uncheckedValue:C,checkedValue:L,onClick:H}=e;a!=null&&a.disabled.value||r||(d(H,n),!(a!=null&&a.readonly.value||i)&&(m.value=!0,f(s.value?C:L)))},k=n=>{const{checkedValue:r,uncheckedValue:i}=e;o.value=n===r?r:i},t=()=>{d(e["onUpdate:modelValue"],e.uncheckedValue),g()},V=()=>O(e.rules,e.modelValue),S=n=>{const{uncheckedValue:r,checkedValue:i}=e;![r,i].includes(n)&&(n=s.value?r:i),f(n)};M(()=>e.modelValue,n=>{o.value=n},{immediate:!0});const R={sync:k,validate:V,resetValidation:g,reset:t};return d(v,R),d(h,R),{withAnimation:m,checked:s,errorMessage:c,radioGroupErrorMessage:l==null?void 0:l.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,n:ge,classes:he,handleClick:b,toggle:S,reset:t,validate:V,resetValidation:g}}});function fe(e,o,s,m,l,v){const a=N("var-icon"),h=N("var-form-details"),c=x("ripple");return P(),T("div",{class:u(e.n("wrap"))},[B("div",oe({class:e.n(),onClick:o[0]||(o[0]=(...p)=>e.handleClick&&e.handleClick(...p))},e.$attrs),[ee((P(),T("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ae({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?A(e.$slots,"checked-icon",{key:0},()=>[D(a,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):A(e.$slots,"unchecked-icon",{key:1},()=>[D(a,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])])],6)),[[c,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),B("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[A(e.$slots,"default")],2)],16),D(h,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const G=Y(pe,[["render",fe]]);G.install=function(e){e.component(G.name,G)};export{I as R,G as a};
